  <h2 class="m1">Apple</h2>
  <!-- Product gallery -->
  <div class="product-gallery" style="width:210px;">
    <ul class="show" [class]="product.selectedColor == 'green' ? 'show' : 'hide'">
      <li>
        <amp-img on="tap:AMP.setState({product: {selectedSlideForGreen: 0}})"
                  src="img/green_apple_1_60x40.jpg"
                  width="60" height="40"
                  class="selected"
                  [class]="product.selectedSlideForGreen == 0 ? 'selected' : '' "
                  tabindex="0" role="button">
        </amp-img>
      </li>
      <li>
        <amp-img on="tap:AMP.setState({product: {selectedSlideForGreen: 1}})"
                  src="img/green_apple_2_60x40.jpg"
                  width="60" height="40"
                  [class]="product.selectedSlideForGreen == 1 ? 'selected' : '' "
                  tabindex="1" role="button">
        </amp-img>
      </li>
    </ul>

    <ul class="hide" [class]="product.selectedColor == 'golden' ? 'show' : 'hide'">
      <li>
        <amp-img on="tap:AMP.setState({product: {selectedSlideForGolden: 0}})"
                src="img/product1_alt1_60x40.jpg"
                 width="60" height="40"
                 class="selected  fadeIn"
                 [class]="product.selectedSlideForGolden == 0 ? 'selected' : '' "
                 tabindex="0" role="button">
        </amp-img>
      </li>
    </ul>

    <ul class="hide" [class]="product.selectedColor == 'red' ? 'show' : 'hide'">
      <li>
        <amp-img on="tap:AMP.setState({ product: {selectedSlideForRed : 0}})"
                 src="img/red_apple_1_60x40.jpg"
                 width="60" height="40"
                 class="selected  fadeIn"
                 [class]="product.selectedSlideForRed == 0 ? 'selected' : '' "
                 tabindex="0" role="button">
        </amp-img>
      </li>
      <li>
        <amp-img on="tap:AMP.setState({ product: {selectedSlideForRed : 1}})"
                 src="img/red_apple_2_60x46.jpg"
                 width="60" height="40"
                 [class]="product.selectedSlideForRed == 1 ? 'selected' : '' "
                 tabindex="1" role="button">
        </amp-img>
      </li>
    </ul>
  </div>
  <!-- Product gallery -->
   
  <!-- Carousel -->
  <div class="product-gallery">
    <amp-carousel id="green-apple-carousel"
            width="1024" height="682"
            layout="responsive"
            type="slides"
            [slide]="product.selectedSlideForGreen"
            on="slideChange: AMP.setState({product: {selectedSlideForGreen: event.index}})"
            class="show  fadeIn"
            [class]="product.selectedColor == 'green' ? 'show  fadeIn' : 'hide'">
      <amp-img src="img/green_apple_1_1024x682.jpg"
                width="1024" height="682"
                layout="responsive" on="tap:gallery-lightbox"
                role="button" tabindex="0">
      </amp-img>
      <amp-img src="img/green_apple_2_1024x685.jpg"
                width="1024" height="682"
                layout="responsive" on="tap:gallery-lightbox"
                role="button" tabindex="0">
      </amp-img>
    </amp-carousel>

    <amp-carousel id="golden-apple-carousel"
            width="1024" height="682"
            layout="responsive"
            type="slides"
            [slide]="product.selectedSlideForGolden"
            on="slideChange: AMP.setState({product: {selectedSlideForGolden: event.index}})"
            class="hide"
            [class]="product.selectedColor == 'golden' ? 'show  fadeIn' : 'hide'">
        <amp-img src="img/golden_apple1_1024x682.jpg"
                width="1024" height="682"
                layout="responsive" on="tap:gallery-lightbox"
                role="button" tabindex="0">
        </amp-img>
    </amp-carousel>

    <amp-carousel id="red-apple-carousel"
            width="1024" height="682"
            layout="responsive"
            type="slides"
            [slide]="product.selectedSlideForRed"
            on="slideChange: AMP.setState({product: {selectedSlideForRed: event.index}})"
            class="hide"
            [class]="product.selectedColor == 'red' ? 'show  fadeIn' : 'hide'">
        <amp-img src="img/red_apple_1_1024x682.jpg"
                width="1024" height="682"
                layout="responsive" on="tap:gallery-lightbox"
                role="button" tabindex="0">
        </amp-img>
        <amp-img src="img/red_apple_2_1024x793.jpg"
                width="1024" height="682"
                layout="responsive" on="tap:gallery-lightbox"
                role="button" tabindex="0">
        </amp-img>
    </amp-carousel>
	<!-- Carousel -->
       
    <!-- Ligh box -->
	<amp-image-lightbox id="gallery-lightbox" layout="nodisplay">
      <div on="tap:gallery-lightbox.close" role="button"
          tabindex="0">
          <button class="ampstart-btn caps m2 close-gallery-button" on="tap:gallery-lightbox.close"
            role="button" tabindex="0">
            Close
          </button>
      </div>
    </amp-image-lightbox>
	<!-- Carousel -->
  </div>  
  
  <!-- Product init -->
  <amp-state id="product">
	<script type="application/json">
	{
	  "selectedColor": "green",
	  "selectedSize": "S",
	  "selectedSlideForRed": 0,
	  "selectedSlideForGolden": 0,
	  "selectedSlideForGreen": 0,
	  "moreItemsPageIndex": 0,
	  "hasMorePages": true,
	  "green": {
		"name" : "Product1",
		"sizes": {
		  "S": "$5.99",
		  "M": "$5.99",
		  "L": "unavailable"
		},
		"defaultSize": "S"
	  },
	  "golden": {
		"name" : "Product2",
		"sizes": {
		  "S": "$9.99",
		  "M": "unavailable",
		  "L": "$9.99"
		},
		"defaultSize": "L"
	  },
	  "red": {
		"name" : "Product3",
		"sizes": {
		  "S": "$7.99",
		  "M": "$7.99",
		  "L": "$7.99"
		},
		"defaultSize": "M"
	  }
	}
	</script>
  </amp-state>
  <!-- Product init -->
   
	<!-- Product Details -->
	<p class="price-description">Price:
		<span [text]="product[product.selectedColor].sizes[product.selectedSize]">$5.99</span>
	</p>
	<form id="order" method="POST"
			action-xhr="/"
			target="_top" class="flex flex-wrap m1">
		<div class="items-center flex">
		  <label for="color">Color:</label>
		  <amp-selector name="color"
				  layout="container"
				  [selected]="product.selectedColor"
				  on="select:AMP.setState({
					product: {
					  selectedColor: event.targetOption,
					  selectedSlideForRed: 0,
					  selectedSlideForGreen: 0,
					  selectedSlideForYellow: 0,
					  selectedSize: product[event.targetOption].sizes[product.selectedSize] != 'unavailable' ? product.selectedSize : product[event.targetOption].defaultSize
					}
				  })">
			<ul class="p0 m1">
			  <li>
				<div option="green" selected class="square green"></div>
			  </li>
			  <li>
				<div option="golden" class="square golden"></div>
			  </li>
			  <li>
				<div option="red" class="square red"></div>
			  </li>
			</ul>
		  </amp-selector>
		</div>
		<div class="items-center flex">
		  <label for="quantity">Quantity:</label>
		  <amp-selector name="quantity" layout="container">
			<ul class="p0 m1">
			  <li option="1" selected>1</li>
			  <li option="2">2</li>
			  <li option="3">3</li>
			</ul>
		  </amp-selector>
		</div>
		<div class="items-center flex">
		  <label for="size">Size:</label>
		  <amp-selector name="size" layout="container"
				  on="select:AMP.setState({ product: {selectedSize: event.targetOption}})"
				  [selected]="(product[product.selectedColor].sizes[product.selectedSize] != 'unavailable')
					  ? product.selectedSize
					  : product[product.selectedColor].defaultSize">
			<ul class="p0 m1">
			  <li option="S" class=""
				  [class]="(product[product.selectedColor].sizes['S'] != 'unavailable')
					  ? ''
					  : 'unavailable'">S</li>
			  <li option="M" class="" selected
				  [class]="(product[product.selectedColor].sizes['M'] != 'unavailable')
					  ? ''
					  : 'unavailable'">M</li>
			  <li option="L" class="unavailable"
				  [class]="(product[product.selectedColor].sizes['L'] != 'unavailable')
					  ? ''
					  : 'unavailable'">L</li>
			</ul>
		  </amp-selector>
		</div>
		<div class="items-center flex my1">
		  <input type="submit" class="ampstart-btn caps" name="add-to-cart" value="Buy now">
		</div>
		<input type="hidden" name="name" value="Apple">
		<input type="hidden" name="price" value="$1.99">
		<input name="clientId" type="hidden" value="CLIENT_ID(cart)" data-amp-replace="CLIENT_ID">
		<div submit-error>
		  <template type="amp-mustache">
			Error! Looks like something went wrong with your shopping cart, please try to add an item again. {{error}}
		  </template>
		</div>
	</form>
	  
	<amp-selector role="tablist"
	  layout="container"
	  class="ampTabContainer ampstart-headerbar-nav" keyboard-select-mode="select">
	  <div role="tab"
		class="tabButton h4 ampstart-nav-item"
		selected
		option="a">Description</div>
	  <div role="tabpanel"
		  class="tabContent p1 p">Fruit is rich in vitamins and minerals. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>
	  <div role="tab"
		class="tabButton h4 ampstart-nav-item"
		option="b">Specifications</div>
	  <div role="tabpanel"
		class="tabContent p1 p">Always wash fruit before eating. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div> 
	</amp-selector>
	<!-- Prduct Details -->

    
  